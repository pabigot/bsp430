<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>BSP430: include/bsp430/utility/tlv.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BSP430
   &#160;<span id="projectnumber">20121013</span>
   </div>
   <div id="projectbrief">Board Support Package for MSP430 microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_b88edee3dd3c84f98132ff53401cb3f9.html">bsp430</a></li><li class="navelem"><a class="el" href="dir_3a342b515484da5d2be804b4d00fb40f.html">utility</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tlv.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Basic support for MSP430 Tag-Length-Value device descriptors.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="core_8h_source.html">bsp430/core.h</a>&gt;</code><br/>
</div>
<p><a href="tlv_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsBSP430tlvEntry.html">sBSP430tlvEntry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsBSP430tlvTable2xx.html">sBSP430tlvTable2xx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsBSP430tlvTable5xx.html">sBSP430tlvTable5xx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsBSP430tlvDIERECORD.html">sBSP430tlvDIERECORD</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsBSP430tlvREFCAL.html">sBSP430tlvREFCAL</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsBPS430tlvADCCAL.html">sBPS430tlvADCCAL</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsBSP430tlvDCO.html">sBSP430tlvDCO</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsBPS430tlvADC.html">sBPS430tlvADC</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a03f62c75b6c16e6bd82f8947505fb25b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#a03f62c75b6c16e6bd82f8947505fb25b">configBSP430_TLV</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a03f62c75b6c16e6bd82f8947505fb25b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbdeee9b6540a19fcf629f10c0de4b72"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#afbdeee9b6540a19fcf629f10c0de4b72">BSP430_TLV</a>&#160;&#160;&#160;(<a class="el" href="tlv_8h.html#a03f62c75b6c16e6bd82f8947505fb25b">configBSP430_TLV</a> - 0)</td></tr>
<tr class="separator:afbdeee9b6540a19fcf629f10c0de4b72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28a6d59d11fce7347d0189cfd1636c6d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#a28a6d59d11fce7347d0189cfd1636c6d">BSP430_TLV_IS_5XX</a>&#160;&#160;&#160;defined(<a class="el" href="msp430_8h.html#ae8c7335b7f1dae7d357a48f0fb620929">__MSP430_HAS_MSP430XV2_CPU__</a>)</td></tr>
<tr class="separator:a28a6d59d11fce7347d0189cfd1636c6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e7da8109a51f6541c4229632db794f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#a6e7da8109a51f6541c4229632db794f0">BSP430_TLV_NEXT_ENTRY</a>(ep_)&#160;&#160;&#160;((<a class="el" href="structsBSP430tlvEntry.html">sBSP430tlvEntry</a> *)(sizeof(<a class="el" href="structsBSP430tlvEntry.html">sBSP430tlvEntry</a>) + (ep_)-&gt;len + (unsigned char *)(ep_)))</td></tr>
<tr class="separator:a6e7da8109a51f6541c4229632db794f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada48fe9a57b44f07793c3d451131b428"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#ada48fe9a57b44f07793c3d451131b428">BSP430_TLV_ENTRY_IS_ADC</a>(ep_)&#160;&#160;&#160;((<a class="el" href="msp430_8h.html#a437b56896ac8bbd6a752a8a41c9af769">TLV_ADC10CAL</a> == (ep_)-&gt;tag) || (<a class="el" href="msp430_8h.html#a705977844312a275696f04a03d0f8342">TLV_ADC12CAL</a> == (ep_)-&gt;tag))</td></tr>
<tr class="separator:ada48fe9a57b44f07793c3d451131b428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfce44c423e1a442442325211403dbd2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adfce44c423e1a442442325211403dbd2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TLV_LDTAG</b>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:adfce44c423e1a442442325211403dbd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aece20c9fedfc40f829fba7bbe11c4772"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aece20c9fedfc40f829fba7bbe11c4772"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TLV_PDTAG</b>&#160;&#160;&#160;0x02</td></tr>
<tr class="separator:aece20c9fedfc40f829fba7bbe11c4772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe47d4196e2c9ea6638a7e946b4d43a7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe47d4196e2c9ea6638a7e946b4d43a7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TLV_BLANK</b>&#160;&#160;&#160;0x05</td></tr>
<tr class="separator:afe47d4196e2c9ea6638a7e946b4d43a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaec1507ca60b9cefdd050d3d8760778"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeaec1507ca60b9cefdd050d3d8760778"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TLV_DIERECORD</b>&#160;&#160;&#160;0x08</td></tr>
<tr class="separator:aeaec1507ca60b9cefdd050d3d8760778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a705977844312a275696f04a03d0f8342"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a705977844312a275696f04a03d0f8342"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TLV_ADC12CAL</b>&#160;&#160;&#160;0x11</td></tr>
<tr class="separator:a705977844312a275696f04a03d0f8342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee14810940aa9ee4f2543886d1cb2253"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aee14810940aa9ee4f2543886d1cb2253"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TLV_REFCAL</b>&#160;&#160;&#160;0x12</td></tr>
<tr class="separator:aee14810940aa9ee4f2543886d1cb2253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a437b56896ac8bbd6a752a8a41c9af769"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a437b56896ac8bbd6a752a8a41c9af769"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TLV_ADC10CAL</b>&#160;&#160;&#160;0x13</td></tr>
<tr class="separator:a437b56896ac8bbd6a752a8a41c9af769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace35a875a10e42a450af150d7ee54788"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace35a875a10e42a450af150d7ee54788"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TLV_TAGEXT</b>&#160;&#160;&#160;0xFE</td></tr>
<tr class="separator:ace35a875a10e42a450af150d7ee54788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af49fa09b89feef6cb6bae0e0c4421e96"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af49fa09b89feef6cb6bae0e0c4421e96"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TAG_DCO_30</b>&#160;&#160;&#160;(0x01)</td></tr>
<tr class="separator:af49fa09b89feef6cb6bae0e0c4421e96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4f6abc385643b4b4790ecb36aaa3d2b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad4f6abc385643b4b4790ecb36aaa3d2b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TAG_EMPTY</b>&#160;&#160;&#160;(0xFE)</td></tr>
<tr class="separator:ad4f6abc385643b4b4790ecb36aaa3d2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a848ad82635064cbe3857696fc57afb78"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#a848ad82635064cbe3857696fc57afb78">BSP430_TLV_TABLE_DATA_OFFSET</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a848ad82635064cbe3857696fc57afb78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a096f2c6ffcc63bcea3fde3b643b5c078"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#a096f2c6ffcc63bcea3fde3b643b5c078">BSP430_TLV_TABLE_PREFIX_LENGTH</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a096f2c6ffcc63bcea3fde3b643b5c078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f2902197dc6ef9f691916b1454006ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#a3f2902197dc6ef9f691916b1454006ca">TLV_START</a>&#160;&#160;&#160;(<a class="el" href="tlv_8h.html#a096f2c6ffcc63bcea3fde3b643b5c078">BSP430_TLV_TABLE_PREFIX_LENGTH</a> + *(const unsigned int *)0x0FF4)</td></tr>
<tr class="separator:a3f2902197dc6ef9f691916b1454006ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac95ecb647a4c1f1cc41685af4248b58d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#ac95ecb647a4c1f1cc41685af4248b58d">TLV_END</a>&#160;&#160;&#160;(<a class="el" href="msp430_8h.html#a3f2902197dc6ef9f691916b1454006ca">TLV_START</a> - <a class="el" href="tlv_8h.html#a096f2c6ffcc63bcea3fde3b643b5c078">BSP430_TLV_TABLE_PREFIX_LENGTH</a> + (4 &lt;&lt; ((const <a class="el" href="tlv_8h.html#ace3ea3a61ff148934bcd2404c9f8ccff">sBSP430tlvTable</a> *)<a class="el" href="tlv_8h.html#a61580777acaa4a6a9f86351763fe78e9">BSP430_TLV_TABLE_START</a>)-&gt;info_len_lg2) - 1)</td></tr>
<tr class="separator:ac95ecb647a4c1f1cc41685af4248b58d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61580777acaa4a6a9f86351763fe78e9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#a61580777acaa4a6a9f86351763fe78e9">BSP430_TLV_TABLE_START</a>&#160;&#160;&#160;((const unsigned char *)<a class="el" href="msp430_8h.html#a3f2902197dc6ef9f691916b1454006ca">TLV_START</a> - <a class="el" href="tlv_8h.html#a096f2c6ffcc63bcea3fde3b643b5c078">BSP430_TLV_TABLE_PREFIX_LENGTH</a>)</td></tr>
<tr class="separator:a61580777acaa4a6a9f86351763fe78e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a990c5f5312fdc785ea46d18cb00383a3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#a990c5f5312fdc785ea46d18cb00383a3">BSP430_TLV_TABLE_IS_VALID</a>()</td></tr>
<tr class="separator:a990c5f5312fdc785ea46d18cb00383a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a9a38043383a6da66ceb7fe3d076d0111"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structsBSP430tlvEntry.html">sBSP430tlvEntry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#a9a38043383a6da66ceb7fe3d076d0111">sBSP430tlvEntry</a></td></tr>
<tr class="separator:a9a38043383a6da66ceb7fe3d076d0111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a175d88356bb1555f7fe23a627523768e"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structsBSP430tlvTable2xx.html">sBSP430tlvTable2xx</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#a175d88356bb1555f7fe23a627523768e">sBSP430tlvTable2xx</a></td></tr>
<tr class="separator:a175d88356bb1555f7fe23a627523768e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71243f9918b36d18d51db6274f2a8c51"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structsBSP430tlvTable5xx.html">sBSP430tlvTable5xx</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#a71243f9918b36d18d51db6274f2a8c51">sBSP430tlvTable5xx</a></td></tr>
<tr class="separator:a71243f9918b36d18d51db6274f2a8c51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace3ea3a61ff148934bcd2404c9f8ccff"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structsBSP430tlvTable5xx.html">sBSP430tlvTable5xx</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#ace3ea3a61ff148934bcd2404c9f8ccff">sBSP430tlvTable</a></td></tr>
<tr class="separator:ace3ea3a61ff148934bcd2404c9f8ccff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9924d70fb0d4a5d1567f8b679c09d687"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structsBSP430tlvDIERECORD.html">sBSP430tlvDIERECORD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#a9924d70fb0d4a5d1567f8b679c09d687">sBSP430tlvDIERECORD</a></td></tr>
<tr class="separator:a9924d70fb0d4a5d1567f8b679c09d687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e6793a58b955e8a1dcf8e31463162f5"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structsBSP430tlvREFCAL.html">sBSP430tlvREFCAL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#a9e6793a58b955e8a1dcf8e31463162f5">sBSP430tlvREFCAL</a></td></tr>
<tr class="separator:a9e6793a58b955e8a1dcf8e31463162f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a7e16617472011fef65b3de53462292"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structsBPS430tlvADCCAL.html">sBPS430tlvADCCAL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#a4a7e16617472011fef65b3de53462292">sBSP430tlvADCCAL</a></td></tr>
<tr class="separator:a4a7e16617472011fef65b3de53462292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9702e4c842126a4b12aa9fdd1ba4f96"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structsBSP430tlvDCO.html">sBSP430tlvDCO</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#aa9702e4c842126a4b12aa9fdd1ba4f96">sBSP430tlvDCO</a></td></tr>
<tr class="separator:aa9702e4c842126a4b12aa9fdd1ba4f96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a0fe541339ba20c75f7f2f10f5452bd"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structsBPS430tlvADC.html">sBPS430tlvADC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#a2a0fe541339ba20c75f7f2f10f5452bd">sBSP430tlvADC</a></td></tr>
<tr class="separator:a2a0fe541339ba20c75f7f2f10f5452bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3c805d05391e3b41d5372fb5bc0de901"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8h.html#a3c805d05391e3b41d5372fb5bc0de901">uiBSP430tlvChecksum</a> (const unsigned char *data, size_t len)</td></tr>
<tr class="separator:a3c805d05391e3b41d5372fb5bc0de901"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Basic support for MSP430 Tag-Length-Value device descriptors. </p>
<p>Two families of MSP430 use TLV descriptors for various purposes:</p>
<ul>
<li>The 2xx family provides calibration constants for various peripherals</li>
</ul>
<ul>
<li>The 5xx/6xx/FR5xx family provides calibration constants as well as information on which peripherals are available and the base address of the corresponding peripheral register map</li>
</ul>
<p>The layout of the device descriptor table and the algorithm used for checksum on them differ between these two implementations. The C preprocessor symbol <a class="el" href="tlv_8h.html#a28a6d59d11fce7347d0189cfd1636c6d">BSP430_TLV_IS_5XX</a> may be used to identify the supported implementation in user code.</p>
<dl class="section user"><dt>Homepage</dt><dd><a href="http://github.com/pabigot/bsp430">http://github.com/pabigot/bsp430</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2012, Peter A. Bigot. Licensed under <a href="http://www.opensource.org/licenses/BSD-3-Clause">BSD-3-Clause</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="afbdeee9b6540a19fcf629f10c0de4b72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_TLV&#160;&#160;&#160;(<a class="el" href="tlv_8h.html#a03f62c75b6c16e6bd82f8947505fb25b">configBSP430_TLV</a> - 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Indicate that the TLV interface is available on the platform. This is normally set by &lt;<a class="el" href="platform_8h.html" title="Entrypoint for platform-specific capabilities.">bsp430/platform.h</a>&gt; when <a class="el" href="tlv_8h.html#a03f62c75b6c16e6bd82f8947505fb25b">configBSP430_TLV</a> is true.</p>
<p>This flag is defined only if <a class="el" href="tlv_8h.html#a03f62c75b6c16e6bd82f8947505fb25b">configBSP430_TLV</a> is true.</p>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that permits its use only within C preprocessor conditional directives.</dd></dl>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="tlv_8h.html#a03f62c75b6c16e6bd82f8947505fb25b">configBSP430_TLV</a> </dd></dl>
<dl class="section user"><dt>Platform-Dependent Default:</dt><dd>Undefined here; include &lt;<a class="el" href="platform_8h.html" title="Entrypoint for platform-specific capabilities.">bsp430/platform.h</a>&gt; to obtain the correct value of this macro. </dd></dl>

</div>
</div>
<a class="anchor" id="ada48fe9a57b44f07793c3d451131b428"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_TLV_ENTRY_IS_ADC</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep_</td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="msp430_8h.html#a437b56896ac8bbd6a752a8a41c9af769">TLV_ADC10CAL</a> == (ep_)-&gt;tag) || (<a class="el" href="msp430_8h.html#a705977844312a275696f04a03d0f8342">TLV_ADC12CAL</a> == (ep_)-&gt;tag))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether a TLV entry corresponds to an ADC.</p>
<p>On 5xx/6xx MCUs this may be either <a class="el" href="msp430_8h.html#a437b56896ac8bbd6a752a8a41c9af769">TLV_ADC10CAL</a> or <a class="el" href="msp430_8h.html#a705977844312a275696f04a03d0f8342">TLV_ADC12CAL</a>. No MCU has both.</p>
<p>On 2xx MCUs, the tag value is not constant across the family for either peripheral type, so an ADC is detected by a tag that is neither <a class="el" href="msp430_8h.html#af49fa09b89feef6cb6bae0e0c4421e96">TAG_DCO_30</a> nor <a class="el" href="msp430_8h.html#ad4f6abc385643b4b4790ecb36aaa3d2b">TAG_EMPTY</a>. </p>

</div>
</div>
<a class="anchor" id="a28a6d59d11fce7347d0189cfd1636c6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_TLV_IS_5XX&#160;&#160;&#160;defined(<a class="el" href="msp430_8h.html#ae8c7335b7f1dae7d357a48f0fb620929">__MSP430_HAS_MSP430XV2_CPU__</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flag used to determine which variant of TLV structure is used.</p>
<p>The functional presence symbol <code>__MSP430_HAS_TLV__</code> is missing from certain headers that support TLV. For the purposes of this module, the standard BSP430 approach of using the MCU header functional presence symbol <code>__MSP430_HAS_MSP430XV2_CPU__</code> is used to identify MCUs that follow the 5xx/6xx/FR5xx interface; the 2xx interface is assumed for all other MCUs.</p>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that permits its use only within C preprocessor conditional directives. </dd></dl>

</div>
</div>
<a class="anchor" id="a6e7da8109a51f6541c4229632db794f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_TLV_NEXT_ENTRY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep_</td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="structsBSP430tlvEntry.html">sBSP430tlvEntry</a> *)(sizeof(<a class="el" href="structsBSP430tlvEntry.html">sBSP430tlvEntry</a>) + (ep_)-&gt;len + (unsigned char *)(ep_)))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a pointer to the next entry in the table.</p>
<dl class="section warning"><dt>Warning</dt><dd>This routine does not account for the possibility of an extended tag. Extended tags are only used on 5xx/6xx device descriptor tables, and are not adequately documented in the user's guide. </dd></dl>

</div>
</div>
<a class="anchor" id="a848ad82635064cbe3857696fc57afb78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_TLV_TABLE_DATA_OFFSET&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Offset from start of TLV table to where the CRC value is stored </p>

</div>
</div>
<a class="anchor" id="a990c5f5312fdc785ea46d18cb00383a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_TLV_TABLE_IS_VALID</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(((<span class="keyword">const</span> <a class="code" href="structsBSP430tlvTable5xx.html">sBSP430tlvTable</a> *)<a class="code" href="tlv_8h.html#a61580777acaa4a6a9f86351763fe78e9">BSP430_TLV_TABLE_START</a>)-&gt;crc               \</div>
<div class="line">   == <a class="code" href="tlv_8h.html#a3c805d05391e3b41d5372fb5bc0de901">uiBSP430tlvChecksum</a>(<a class="code" href="tlv_8h.html#a61580777acaa4a6a9f86351763fe78e9">BSP430_TLV_TABLE_START</a> + <a class="code" href="tlv_8h.html#a848ad82635064cbe3857696fc57afb78">BSP430_TLV_TABLE_DATA_OFFSET</a>, \</div>
<div class="line">                          (1 + (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code" href="tlv_8h.html#ac95ecb647a4c1f1cc41685af4248b58d">TLV_END</a>) - (<a class="code" href="tlv_8h.html#a61580777acaa4a6a9f86351763fe78e9">BSP430_TLV_TABLE_START</a> + <a class="code" href="tlv_8h.html#a848ad82635064cbe3857696fc57afb78">BSP430_TLV_TABLE_DATA_OFFSET</a>)))</div>
</div><!-- fragment --><p>Check whether the table is valid.</p>
<p>This references <a class="el" href="tlv_8h.html#a61580777acaa4a6a9f86351763fe78e9">BSP430_TLV_TABLE_START</a> and <a class="el" href="tlv_8h.html#ac95ecb647a4c1f1cc41685af4248b58d">TLV_END</a> and other constants to verify that the stored checksum matches the checksum calculated over the data area of the descriptor table. </p>

</div>
</div>
<a class="anchor" id="a096f2c6ffcc63bcea3fde3b643b5c078"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_TLV_TABLE_PREFIX_LENGTH&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Offset from start of TLV table to the first <a class="el" href="structsBSP430tlvEntry.html">sBSP430tlvEntry</a> entry in the table. </p>

</div>
</div>
<a class="anchor" id="a61580777acaa4a6a9f86351763fe78e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_TLV_TABLE_START&#160;&#160;&#160;((const unsigned char *)<a class="el" href="msp430_8h.html#a3f2902197dc6ef9f691916b1454006ca">TLV_START</a> - <a class="el" href="tlv_8h.html#a096f2c6ffcc63bcea3fde3b643b5c078">BSP430_TLV_TABLE_PREFIX_LENGTH</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The offset of the device descriptor table.</p>
<p>This begins with the CRC and any other family-specific prefix information. The value has type <code>const unsigned char *</code>, and may be cast to <a class="el" href="tlv_8h.html#ace3ea3a61ff148934bcd2404c9f8ccff">sBSP430tlvTable</a> to access relevant information. </p>

</div>
</div>
<a class="anchor" id="a03f62c75b6c16e6bd82f8947505fb25b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define configBSP430_TLV&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define to a true value to indicate intent to use the TLV interface.</p>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that permits its use only within C preprocessor conditional directives.</dd></dl>
<dl class="section user"><dt>Affects:</dt><dd><a class="el" href="tlv_8h.html#afbdeee9b6540a19fcf629f10c0de4b72">BSP430_TLV</a> </dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="ac95ecb647a4c1f1cc41685af4248b58d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TLV_END&#160;&#160;&#160;(<a class="el" href="msp430_8h.html#a3f2902197dc6ef9f691916b1454006ca">TLV_START</a> - <a class="el" href="tlv_8h.html#a096f2c6ffcc63bcea3fde3b643b5c078">BSP430_TLV_TABLE_PREFIX_LENGTH</a> + (4 &lt;&lt; ((const <a class="el" href="tlv_8h.html#ace3ea3a61ff148934bcd2404c9f8ccff">sBSP430tlvTable</a> *)<a class="el" href="tlv_8h.html#a61580777acaa4a6a9f86351763fe78e9">BSP430_TLV_TABLE_START</a>)-&gt;info_len_lg2) - 1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Integer corresponding to the address of the last byte in the TLV table.</p>
<p>It is normally part of the MCU header, but is missing in some cases. It can be reconstructed from the encoded table length.</p>
<dl class="section user"><dt>Platform-Dependent Value:</dt><dd>The value here is an example, and may differ from the actual value used. </dd></dl>

</div>
</div>
<a class="anchor" id="a3f2902197dc6ef9f691916b1454006ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TLV_START&#160;&#160;&#160;(<a class="el" href="tlv_8h.html#a096f2c6ffcc63bcea3fde3b643b5c078">BSP430_TLV_TABLE_PREFIX_LENGTH</a> + *(const unsigned int *)0x0FF4)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Integer corresponding to address of first TLV table entry.</p>
<p>This constant is normally part of the MCU header, but is missing in some cases. It can be reconstructed from the address stored in 0xFF4 on 5xx-family MCUs. It is normally <code>0x1A08</code>.</p>
<dl class="section user"><dt>Platform-Dependent Value:</dt><dd>The value here is an example, and may differ from the actual value used. </dd></dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a2a0fe541339ba20c75f7f2f10f5452bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structsBPS430tlvADC.html">sBPS430tlvADC</a>  <a class="el" href="tlv_8h.html#a2a0fe541339ba20c75f7f2f10f5452bd">sBSP430tlvADC</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TLV entry for <a class="el" href="msp430_8h.html#ad1dbde5392a503d12b441103c5282470">TAG_ADC10_1</a> and <a class="el" href="msp430_8h.html#af7b5664aa714a65649218b966c8dcb5e">TAG_ADC12_1</a> on 2xx MCUs</p>
<p>These are ADC gain and offset calibration constants, as well as constants for the internal temperature sensor. The tag values are not defined on all MCUs, and the observed value is <code>8</code> on some and <code>0x10</code> on others. The address of <a class="el" href="structsBPS430tlvADC.html#a8dcdb01a9173a322bfb35b0bb222c1eb">sBSP430tlvADC::cal_adc_gain_factor</a> is fixed at <code>0x10DC</code>.</p>
<p>When processing a 2xx descriptor table, it is reasonable to assume that any tag that is not <a class="el" href="msp430_8h.html#af49fa09b89feef6cb6bae0e0c4421e96">TAG_DCO_30</a> nor <a class="el" href="msp430_8h.html#ad4f6abc385643b4b4790ecb36aaa3d2b">TAG_EMPTY</a> corresponds to an ADC structure. </p>

</div>
</div>
<a class="anchor" id="a4a7e16617472011fef65b3de53462292"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structsBPS430tlvADCCAL.html">sBPS430tlvADCCAL</a>  <a class="el" href="tlv_8h.html#a4a7e16617472011fef65b3de53462292">sBSP430tlvADCCAL</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TLV entry for <a class="el" href="msp430_8h.html#a74b01a17793b5bde9e6e16001996e3b4">TLV_ADCCAL</a>, <a class="el" href="msp430_8h.html#a705977844312a275696f04a03d0f8342">TLV_ADC12CAL</a>, and <a class="el" href="msp430_8h.html#a437b56896ac8bbd6a752a8a41c9af769">TLV_ADC10CAL</a> on 5xx MCUs</p>
<p>These are ADC gain and offset calibration constants, as well as constants for the internal temperature sensor. See the family user guide for details. </p>

</div>
</div>
<a class="anchor" id="aa9702e4c842126a4b12aa9fdd1ba4f96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structsBSP430tlvDCO.html">sBSP430tlvDCO</a>  <a class="el" href="structsBSP430tlvDCO.html">sBSP430tlvDCO</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TLV entry for <a class="el" href="msp430_8h.html#af49fa09b89feef6cb6bae0e0c4421e96">TAG_DCO_30</a> on 2xx MCUs.</p>
<p>These are BC2 calibration constants for fixed frequencies of MCLK. The <a class="el" href="msp430_8h.html#af49fa09b89feef6cb6bae0e0c4421e96">TAG_DCO_30</a> is not defined on all MCUs, but all observed MCUs have used a tag value <code>1</code> for this when a tag is present. The address of sBSP430tlvDCO::caldco_16mhz is fixed at <code>0x10F8</code>. </p>

</div>
</div>
<a class="anchor" id="a9924d70fb0d4a5d1567f8b679c09d687"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structsBSP430tlvDIERECORD.html">sBSP430tlvDIERECORD</a>  <a class="el" href="structsBSP430tlvDIERECORD.html">sBSP430tlvDIERECORD</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TLV entry for <a class="el" href="msp430_8h.html#aeaec1507ca60b9cefdd050d3d8760778">TLV_DIERECORD</a> on 5xx MCUs.</p>
<p>This structure is not described in the users' guide, but can be found in certain MCU data sheets, including the one for the MSP430F5438a </p>

</div>
</div>
<a class="anchor" id="a9a38043383a6da66ceb7fe3d076d0111"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structsBSP430tlvEntry.html">sBSP430tlvEntry</a>  <a class="el" href="structsBSP430tlvEntry.html">sBSP430tlvEntry</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fixed header for all TLV entries. This is immediately followed by entry-specific data. </p>

</div>
</div>
<a class="anchor" id="a9e6793a58b955e8a1dcf8e31463162f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structsBSP430tlvREFCAL.html">sBSP430tlvREFCAL</a>  <a class="el" href="structsBSP430tlvREFCAL.html">sBSP430tlvREFCAL</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TLV entry for <a class="el" href="msp430_8h.html#aee14810940aa9ee4f2543886d1cb2253">TLV_REFCAL</a> on 5xx MCUs.</p>
<p>These are the constants for ADC adjustment based on the internal reference voltage. See the family user guide for details. </p>

</div>
</div>
<a class="anchor" id="ace3ea3a61ff148934bcd2404c9f8ccff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structsBSP430tlvTable5xx.html">sBSP430tlvTable5xx</a> <a class="el" href="tlv_8h.html#ace3ea3a61ff148934bcd2404c9f8ccff">sBSP430tlvTable</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Typedef for the family-specific TLV table structure for this MCU. </p>
<dl class="section user"><dt>Platform-Dependent Value:</dt><dd>The value here is an example, and may differ from the actual value used. </dd></dl>

</div>
</div>
<a class="anchor" id="a175d88356bb1555f7fe23a627523768e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structsBSP430tlvTable2xx.html">sBSP430tlvTable2xx</a>  <a class="el" href="structsBSP430tlvTable2xx.html">sBSP430tlvTable2xx</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The complete device descriptor table including the header, as supported on 2xx devices. The address of the table is <code>0x10C0</code>. </p>

</div>
</div>
<a class="anchor" id="a71243f9918b36d18d51db6274f2a8c51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structsBSP430tlvTable5xx.html">sBSP430tlvTable5xx</a>  <a class="el" href="structsBSP430tlvTable5xx.html">sBSP430tlvTable5xx</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The complete device descriptor table including the header, as supported on 5xx/6xx/FR5xx devices. The address of sBSP430tlvTable5::entry is available as <a class="el" href="msp430_8h.html#a3f2902197dc6ef9f691916b1454006ca">TLV_START</a> in the MCU header, and can be read from memory at address <code>0x0FF4</code>. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3c805d05391e3b41d5372fb5bc0de901"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int uiBSP430tlvChecksum </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculate the TLV-compatible checksum for a region of memory.</p>
<p>The algorithm that is used is family-specific. </p>
<ul>
<li>For 2xx it is the negative of the 16-bit XOR of the data. </li>
<li>For 5xx/6xx it is the value computed by the CRC16 peripheral module, which uses the CRC-CCITT polynomial but reverses the bit order. Currently the implementation uses that module on these MCUs.</li>
</ul>
<p>Other families do not explicitly support the TLV infrastructure, though it may be used for application purposes.</p>
<dl class="section warning"><dt>Warning</dt><dd>Reversed CRC support is not present in certain NRND MCUs like the MSP430F5438; all such MCUs have been superseded by newer ones such as the MSP430F5438A. Because the implementation in the 5xx/6xx family depends on the CRC module, this function will not compile on those MCUs.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>5xx/6xx MCU headers provide <a class="el" href="tlv_8h.html#a3f2902197dc6ef9f691916b1454006ca">TLV_START</a> and <a class="el" href="tlv_8h.html#ac95ecb647a4c1f1cc41685af4248b58d">TLV_END</a>, which provide the addresses of the first and last byte of the TLV entry region. The CRC should be calculated starting at <code>data</code> = <a class="el" href="tlv_8h.html#a3f2902197dc6ef9f691916b1454006ca">TLV_START</a>-4, and the length of the region is <code>len</code> = <code>5+<a class="el" href="tlv_8h.html#ac95ecb647a4c1f1cc41685af4248b58d">TLV_END</a>-<a class="el" href="tlv_8h.html#a3f2902197dc6ef9f691916b1454006ca">TLV_START</a></code>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The address of the data over which the checksum is calculated.</td></tr>
    <tr><td class="paramname">len</td><td>The number of octets in the data that contribute to the checksum.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the 16-bit checksum </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Oct 13 2012 17:41:30 for BSP430 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
