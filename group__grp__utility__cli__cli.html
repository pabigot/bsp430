<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>BSP430: Console-based Command Line User Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BSP430
   &#160;<span id="projectnumber">20130427</span>
   </div>
   <div id="projectbrief">Board Support Package for MSP430 microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Console-based Command Line User Interface</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="cli_8h.html" title="Basic support for command line processing.">bsp430/utility/cli.h</a> features for interactive user input.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga80909b9854af24b22d02cc9e881ab4d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__cli__cli.html#ga80909b9854af24b22d02cc9e881ab4d8">BSP430_CLI_CONSOLE_BUFFER_SIZE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga80909b9854af24b22d02cc9e881ab4d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga99ad08bfe82dcda855f26970616f1ce6"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group__grp__utility__cli__cli.html#gabf197215e696298dd3a9690ef10a69de">eBSP430cliConsole</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__cli__cli.html#ga99ad08bfe82dcda855f26970616f1ce6">eBSP430cliConsole</a></td></tr>
<tr class="separator:ga99ad08bfe82dcda855f26970616f1ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gabf197215e696298dd3a9690ef10a69de"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__cli__cli.html#gabf197215e696298dd3a9690ef10a69de">eBSP430cliConsole</a> { <br/>
&#160;&#160;<a class="el" href="group__grp__utility__cli__cli.html#ggabf197215e696298dd3a9690ef10a69dea09d4c7792c3db363181260eebd086d94">eBSP430cliConsole_READY</a> = 0x01, 
<a class="el" href="group__grp__utility__cli__cli.html#ggabf197215e696298dd3a9690ef10a69deaf4a31c8e1956488e1ff37d22d55936b3">eBSP430cliConsole_REPAINT</a> = 0x02, 
<a class="el" href="group__grp__utility__cli__cli.html#ggabf197215e696298dd3a9690ef10a69deafdfdebe7b8568728238e4069ae19cd09">eBSP430cliConsole_DO_COMPLETION</a> = 0x04, 
<a class="el" href="group__grp__utility__cli__cli.html#ggabf197215e696298dd3a9690ef10a69dea35ef4020932be71bd87834c27fd16c08">eBSP430cliConsole_PROCESS_ESCAPE</a> = 0x08, 
<br/>
&#160;&#160;<a class="el" href="group__grp__utility__cli__cli.html#ggabf197215e696298dd3a9690ef10a69dea736f64677f998edc054fef9479f388f0">eBSP430cliConsole_IN_ESCAPE</a> = 0x10, 
<a class="el" href="group__grp__utility__cli__cli.html#ggabf197215e696298dd3a9690ef10a69dea5a05d17ffe59e202f061455f77b12c92">eBSP430cliConsole_ANY_ESCAPE</a> = eBSP430cliConsole_PROCESS_ESCAPE | eBSP430cliConsole_IN_ESCAPE, 
<a class="el" href="group__grp__utility__cli__cli.html#ggabf197215e696298dd3a9690ef10a69dea1af184228ab718533ff1ef6a1b4f5a8b">eBSP430cliConsole_REPAINT_BEL</a> = 0x100, 
<a class="el" href="group__grp__utility__cli__cli.html#ggabf197215e696298dd3a9690ef10a69deacdf7e3d4f0e314a960acc4579e20339f">eBSP430cliConsole_COMPLETE_SPACE</a> = 0x200
<br/>
 }</td></tr>
<tr class="separator:gabf197215e696298dd3a9690ef10a69de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga30922f40d6b2702628bb88d9e0069caf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__cli__cli.html#ga30922f40d6b2702628bb88d9e0069caf">iBSP430cliConsoleDiagnostic</a> (<a class="el" href="structsBSP430cliCommandLink.html">sBSP430cliCommandLink</a> *chain, enum <a class="el" href="cli_8h.html#aac3bf57c4b7945b5ff6a8fc49d297418">eBSP430cliErrorType</a> errtype, const char *argstr, size_t argstr_len)</td></tr>
<tr class="separator:ga30922f40d6b2702628bb88d9e0069caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga733c7b931476c5f02c297dd7e0f78283"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__cli__cli.html#ga733c7b931476c5f02c297dd7e0f78283">vBSP430cliConsoleDisplayChain</a> (struct <a class="el" href="structsBSP430cliCommandLink.html">sBSP430cliCommandLink</a> *chain, const char *argstr)</td></tr>
<tr class="separator:ga733c7b931476c5f02c297dd7e0f78283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c3a36a00ea6f676cf2006859364d45a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__cli__cli.html#ga2c3a36a00ea6f676cf2006859364d45a">vBSP430cliConsoleDisplayHelp</a> (const <a class="el" href="structsBSP430cliCommand.html">sBSP430cliCommand</a> *cmd)</td></tr>
<tr class="separator:ga2c3a36a00ea6f676cf2006859364d45a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0d2c92b96b17302159c049f7a9bfb17"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__cli__cli.html#gad0d2c92b96b17302159c049f7a9bfb17">xBSP430cliConsoleBuffer_ni</a> (void)</td></tr>
<tr class="separator:gad0d2c92b96b17302159c049f7a9bfb17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga851a3ff12f32fc07f0e83b084dbd659d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__cli__cli.html#ga851a3ff12f32fc07f0e83b084dbd659d">vBSP430cliConsoleBufferClear_ni</a> (void)</td></tr>
<tr class="separator:ga851a3ff12f32fc07f0e83b084dbd659d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga248886ec8a368a983826dfd11f4b6880"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__cli__cli.html#ga248886ec8a368a983826dfd11f4b6880">iBSP430cliConsoleBufferExtend_ni</a> (const char *text, size_t len)</td></tr>
<tr class="separator:ga248886ec8a368a983826dfd11f4b6880"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0dc701d6a0e8678616dbdc43219f2628"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__cli__cli.html#ga0dc701d6a0e8678616dbdc43219f2628">iBSP430cliConsoleBufferProcessInput_ni</a> (void)</td></tr>
<tr class="separator:ga0dc701d6a0e8678616dbdc43219f2628"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p><a class="el" href="cli_8h.html" title="Basic support for command line processing.">bsp430/utility/cli.h</a> features for interactive user input. </p>
<p>These features use <a class="el" href="console_8h.html" title="A generic console output capability.">bsp430/utility/console.h</a>, generally with input buffers enabled, to accept user input at a command line interface. Certain keystrokes including backspace are recognized, allowing primitive editing to be done. Escape sequences are passed back to the application for processing. Display capabilities, including repainting the screen and displaying the accumulated input are the responsibility of the application, but are assisted with functions to provide help on available commands and diagnostics when the infrastructure detects an error in user input.</p>
<p>See <a class="el" href="ex_utility_cli.html">Utilities: Command Line Interface</a> for a detailed example demonstrating most capabilities of this module.</p>
<dl class="section user"><dt>Homepage</dt><dd><a href="http://github.com/pabigot/bsp430">http://github.com/pabigot/bsp430</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2012-2013, Peter A. Bigot. Licensed under <a href="http://www.opensource.org/licenses/BSD-3-Clause">BSD-3-Clause</a></dd></dl>
<p><a class="el" href="cli_8h.html" title="Basic support for command line processing.">bsp430/utility/cli.h</a> functions for processing user-provided text. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga80909b9854af24b22d02cc9e881ab4d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CLI_CONSOLE_BUFFER_SIZE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Specify the size of an internal command buffer for editing.</p>
<p>A non-zero setting for this parameter allocates an internal buffer that is used by <a class="el" href="group__grp__utility__cli__cli.html#ga0dc701d6a0e8678616dbdc43219f2628">iBSP430cliConsoleBufferProcessInput_ni()</a> to aggregate keystrokes and produce a command string.</p>
<p>If the value of this is zero, <a class="el" href="group__grp__utility__cli__cli.html#ga0dc701d6a0e8678616dbdc43219f2628">iBSP430cliConsoleBufferProcessInput_ni()</a> will not be available. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga99ad08bfe82dcda855f26970616f1ce6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__grp__utility__cli__cli.html#gabf197215e696298dd3a9690ef10a69de">eBSP430cliConsole</a>  <a class="el" href="group__grp__utility__cli__cli.html#gabf197215e696298dd3a9690ef10a69de">eBSP430cliConsole</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enumeration of bit values returned from <a class="el" href="group__grp__utility__cli__cli.html#ga0dc701d6a0e8678616dbdc43219f2628">iBSP430cliConsoleBufferProcessInput_ni()</a>. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gabf197215e696298dd3a9690ef10a69de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__grp__utility__cli__cli.html#gabf197215e696298dd3a9690ef10a69de">eBSP430cliConsole</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enumeration of bit values returned from <a class="el" href="group__grp__utility__cli__cli.html#ga0dc701d6a0e8678616dbdc43219f2628">iBSP430cliConsoleBufferProcessInput_ni()</a>. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggabf197215e696298dd3a9690ef10a69dea09d4c7792c3db363181260eebd086d94"></a>eBSP430cliConsole_READY</em>&nbsp;</td><td>
<p>Bit set in response if console buffer now holds a completed command. The application should retrieve it using <a class="el" href="group__grp__utility__cli__cli.html#gad0d2c92b96b17302159c049f7a9bfb17">xBSP430cliConsoleBuffer_ni()</a>, process it, then reset the buffer using <a class="el" href="group__grp__utility__cli__cli.html#ga851a3ff12f32fc07f0e83b084dbd659d">vBSP430cliConsoleBufferClear_ni()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>If this bit is set, there may be additional input that has not been processed. After processing the command that is ready the caller should re-invoke <a class="el" href="group__grp__utility__cli__cli.html#ga0dc701d6a0e8678616dbdc43219f2628">iBSP430cliConsoleBufferProcessInput_ni()</a> to complete reading pending input. </dd></dl>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggabf197215e696298dd3a9690ef10a69deaf4a31c8e1956488e1ff37d22d55936b3"></a>eBSP430cliConsole_REPAINT</em>&nbsp;</td><td>
<p>Bit set in response if caller should repaint the screen in response to keystrokes </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggabf197215e696298dd3a9690ef10a69deafdfdebe7b8568728238e4069ae19cd09"></a>eBSP430cliConsole_DO_COMPLETION</em>&nbsp;</td><td>
<p>Bit set in response if caller should invoke the completion infrastructure based on the current buffer contents. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggabf197215e696298dd3a9690ef10a69dea35ef4020932be71bd87834c27fd16c08"></a>eBSP430cliConsole_PROCESS_ESCAPE</em>&nbsp;</td><td>
<p>Bit set in response if an escape character (ESC) has been consumed. The caller should process the remaining input to consume the escape sequence. If the sequence is an ANSI sequence, there are two cases the processing code must recognize:</p>
<ul>
<li>If the character after the ESC is a left bracket (comprising a Control Sequence Introducer, or CSI), the sequence is terminated by an ASCII character in the range 64 to 126. See <a class="el" href="group__grp__utility__cli__cli.html#ggabf197215e696298dd3a9690ef10a69dea736f64677f998edc054fef9479f388f0">eBSP430cliConsole_IN_ESCAPE</a>.</li>
</ul>
<ul>
<li>Otherwise, the consumed ESC is expected to be followed by a single ASCII character in the range 64 to 95.</li>
</ul>
<p>See <a href="http://en.wikipedia.org/wiki/ANSI_escape_code">http://en.wikipedia.org/wiki/ANSI_escape_code</a>. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggabf197215e696298dd3a9690ef10a69dea736f64677f998edc054fef9479f388f0"></a>eBSP430cliConsole_IN_ESCAPE</em>&nbsp;</td><td>
<p>Bit set in flags if system is processing an escape sequence.</p>
<p>This flag is not produced by the infrastructure, but is available for use in applications which preserve the console state while processing. Suggested practice is to read the first character after <a class="el" href="group__grp__utility__cli__cli.html#ggabf197215e696298dd3a9690ef10a69dea35ef4020932be71bd87834c27fd16c08">eBSP430cliConsole_PROCESS_ESCAPE</a> has been set, and if that character is recognized as completing a control sequence introducer the application should clear <a class="el" href="group__grp__utility__cli__cli.html#ggabf197215e696298dd3a9690ef10a69dea35ef4020932be71bd87834c27fd16c08">eBSP430cliConsole_PROCESS_ESCAPE</a>, set <a class="el" href="group__grp__utility__cli__cli.html#ggabf197215e696298dd3a9690ef10a69dea736f64677f998edc054fef9479f388f0">eBSP430cliConsole_IN_ESCAPE</a>, and continue in escape-processing mode until the entire sequence has been consumed (i.e., a character in the range 64 to 126 is recognized).</p>
<p>See <a class="el" href="ex_utility_cli.html">Utilities: Command Line Interface</a>. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggabf197215e696298dd3a9690ef10a69dea5a05d17ffe59e202f061455f77b12c92"></a>eBSP430cliConsole_ANY_ESCAPE</em>&nbsp;</td><td>
<p>Bit mask for flags indicating that some escape-sequence processing is in effect. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggabf197215e696298dd3a9690ef10a69dea1af184228ab718533ff1ef6a1b4f5a8b"></a>eBSP430cliConsole_REPAINT_BEL</em>&nbsp;</td><td>
<p>Bit set to signal that the repaint should be followed by a BEL or other indicator. This is normally used to warn the user that the screen content includes changes not directly entered by the user, e.g. completion has been performed. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggabf197215e696298dd3a9690ef10a69deacdf7e3d4f0e314a960acc4579e20339f"></a>eBSP430cliConsole_COMPLETE_SPACE</em>&nbsp;</td><td>
<p>Bit set in response from completion if the application should add a space after whatever text was suggested. (This is a distinct flag because suggested text from the completion infrastructure comes from immutable strings that do not include trailing spaces.) </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga248886ec8a368a983826dfd11f4b6880"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iBSP430cliConsoleBufferExtend_ni </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Append characters to the current console buffer contents.</p>
<p>Characters are taken from <code>src</code> until an end-of-string is encountered or <code>len</code> characters have been appended.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">text</td><td>pointer to the text to be appended</td></tr>
    <tr><td class="paramname">len</td><td>number of characters to be appended. To append everything to the end of <code>text</code>, use -1 or another large value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of characters actually appended, which may be less than <code>len</code> if the console buffer is too small, or <code>text</code> has a <code>NUL</code> before the length is reached.</dd></dl>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="console_8h.html#ac415beb77c9981cd718e79fca118b46d">BSP430_CONSOLE</a> </dd></dl>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="group__grp__utility__cli__cli.html#ga80909b9854af24b22d02cc9e881ab4d8">BSP430_CLI_CONSOLE_BUFFER_SIZE</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga0dc701d6a0e8678616dbdc43219f2628"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iBSP430cliConsoleBufferProcessInput_ni </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process pending console input and produce completed commands.</p>
<p>This function reads data over the console, and stores the characters into an internal buffer allocated when <a class="el" href="group__grp__utility__cli__cli.html#ga80909b9854af24b22d02cc9e881ab4d8">BSP430_CLI_CONSOLE_BUFFER_SIZE</a> is nonzero. Certain keystrokes are recognized as editing commands, as described below.</p>
<table class="doxtable">
<tr>
<th align="left">Keystroke </th><th align="left">Function</th></tr>
<tr>
<td align="left">Backspace (BS) </td><td align="left">Erase previous character (if any) </td></tr>
<tr>
<td align="left">C-l (FF) </td><td align="left">Return <a class="el" href="group__grp__utility__cli__cli.html#ggabf197215e696298dd3a9690ef10a69deaf4a31c8e1956488e1ff37d22d55936b3">eBSP430cliConsole_REPAINT</a> </td></tr>
<tr>
<td align="left">Enter (CR) </td><td align="left">Return <a class="el" href="group__grp__utility__cli__cli.html#ggabf197215e696298dd3a9690ef10a69dea09d4c7792c3db363181260eebd086d94">eBSP430cliConsole_READY</a> </td></tr>
<tr>
<td align="left">C-u (NAK) </td><td align="left">Kill command (resets buffer) </td></tr>
<tr>
<td align="left">C-w (ETB) </td><td align="left">Kill previous word (erases back to space) </td></tr>
<tr>
<td align="left">Escape (ESC) </td><td align="left">Return <a class="el" href="group__grp__utility__cli__cli.html#ggabf197215e696298dd3a9690ef10a69dea35ef4020932be71bd87834c27fd16c08">eBSP430cliConsole_PROCESS_ESCAPE</a> </td></tr>
<tr>
<td align="left">Tab (HT) </td><td align="left">Auto-complete based on legal commands (<b>if enabled</b>) </td></tr>
</table>
<p>Note that auto-completion is enabled by <a class="el" href="group__grp__utility__cli__completion.html#gafe11b50870e6e62ef0a964eefd8209ad">configBSP430_CLI_COMMAND_COMPLETION</a>.</p>
<p>When carriage return is pressed, a complete command is recognized, and the function returns even if there is additional data to be consumed.</p>
<dl class="section return"><dt>Returns</dt><dd>zero if all pending input was consumed and no actions are required. A positive result encodes bits from <a class="el" href="group__grp__utility__cli__cli.html#ga99ad08bfe82dcda855f26970616f1ce6">eBSP430cliConsole</a> indicating available commands or other actions that are required.</dd></dl>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="console_8h.html#ac415beb77c9981cd718e79fca118b46d">BSP430_CONSOLE</a> </dd></dl>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="group__grp__utility__cli__cli.html#ga80909b9854af24b22d02cc9e881ab4d8">BSP430_CLI_CONSOLE_BUFFER_SIZE</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rfem_2cc3000_2main_8c-example.html#a56">rfem/cc3000/main.c</a>, <a class="el" href="utility_2alarm_2main_8c-example.html#a60">utility/alarm/main.c</a>, and <a class="el" href="utility_2cli_2main_8c-example.html#a51">utility/cli/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga30922f40d6b2702628bb88d9e0069caf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iBSP430cliConsoleDiagnostic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsBSP430cliCommandLink.html">sBSP430cliCommandLink</a> *&#160;</td>
          <td class="paramname"><em>chain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="cli_8h.html#aac3bf57c4b7945b5ff6a8fc49d297418">eBSP430cliErrorType</a>&#160;</td>
          <td class="paramname"><em>errtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>argstr_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A diagnostic function that displays on the console.</p>
<p>Normal practice would be to install this using iBSP430cliSetDiagnosticFunction() after configuring the console but before accepting any user input; see <a class="el" href="ex_utility_cli.html">Utilities: Command Line Interface</a>.</p>
<dl class="section warning"><dt>Warning</dt><dd>This function may enable interrupts and sleep if interrupt-driven console transmission is enabled. See <a class="el" href="console_8h.html#h_utility_console_interrupts">Console Output and Interrupts</a>.</dd></dl>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="console_8h.html#ac415beb77c9981cd718e79fca118b46d">BSP430_CONSOLE</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rfem_2cc3000_2main_8c-example.html#a24">rfem/cc3000/main.c</a>, <a class="el" href="utility_2alarm_2main_8c-example.html#a41">utility/alarm/main.c</a>, and <a class="el" href="utility_2cli_2main_8c-example.html#a37">utility/cli/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga851a3ff12f32fc07f0e83b084dbd659d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vBSP430cliConsoleBufferClear_ni </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear any current console buffer contents.</p>
<p>Invoke this after having processed a command that was returned by <a class="el" href="group__grp__utility__cli__cli.html#ga0dc701d6a0e8678616dbdc43219f2628">iBSP430cliConsoleBufferProcessInput_ni()</a> so subsequent input begins a new command.</p>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="console_8h.html#ac415beb77c9981cd718e79fca118b46d">BSP430_CONSOLE</a> </dd></dl>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="group__grp__utility__cli__cli.html#ga80909b9854af24b22d02cc9e881ab4d8">BSP430_CLI_CONSOLE_BUFFER_SIZE</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rfem_2cc3000_2main_8c-example.html#a55">rfem/cc3000/main.c</a>, <a class="el" href="utility_2alarm_2main_8c-example.html#a58">utility/alarm/main.c</a>, and <a class="el" href="utility_2cli_2main_8c-example.html#a50">utility/cli/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga733c7b931476c5f02c297dd7e0f78283"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vBSP430cliConsoleDisplayChain </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsBSP430cliCommandLink.html">sBSP430cliCommandLink</a> *&#160;</td>
          <td class="paramname"><em>chain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argstr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Display the reconstructed command string on the console.</p>
<p>This function is usually invoked in the context of diagnostics to indicate where in the input an error was detected. It prints on the console the sequence of prefix commands encoded within <code>chain</code>, then displays the remaining argument string. (Note that to do this it reverses the chain, then restores it to its original direction before returning.)</p>
<dl class="section warning"><dt>Warning</dt><dd>This function may enable interrupts and sleep if interrupt-driven console transmission is enabled. See <a class="el" href="console_8h.html#h_utility_console_interrupts">Console Output and Interrupts</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chain</td><td>the chain of commands from the innermost to the outermost</td></tr>
    <tr><td class="paramname">argstr</td><td>the unprocessed remainder of the original command string </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="utility_2cli_2main_8c-example.html#a4">utility/cli/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga2c3a36a00ea6f676cf2006859364d45a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vBSP430cliConsoleDisplayHelp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsBSP430cliCommand.html">sBSP430cliCommand</a> *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Display the deep command structure on the console.</p>
<p>Nested commands are displayed indented from their parent command.</p>
<dl class="section warning"><dt>Warning</dt><dd>This function may enable interrupts and sleep if interrupt-driven console transmission is enabled. See <a class="el" href="console_8h.html#h_utility_console_interrupts">Console Output and Interrupts</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>pointer to the first in a sequence of sibling commands</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="console_8h.html#ac415beb77c9981cd718e79fca118b46d">BSP430_CONSOLE</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rfem_2cc3000_2main_8c-example.html#a17">rfem/cc3000/main.c</a>, <a class="el" href="utility_2alarm_2main_8c-example.html#a36">utility/alarm/main.c</a>, and <a class="el" href="utility_2cli_2main_8c-example.html#a32">utility/cli/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gad0d2c92b96b17302159c049f7a9bfb17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* xBSP430cliConsoleBuffer_ni </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a pointer to the internal console buffer.</p>
<dl class="section note"><dt>Note</dt><dd>Although the value returned from this function is a constant throughout the life of the program, it is the call to this function that stores the NUL character terminating the command based on data received.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the NUL-terminated current contents of the internal command buffer, or NULL if <a class="el" href="group__grp__utility__cli__cli.html#ga80909b9854af24b22d02cc9e881ab4d8">BSP430_CLI_CONSOLE_BUFFER_SIZE</a> is zero. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rfem_2cc3000_2main_8c-example.html#a57">rfem/cc3000/main.c</a>, <a class="el" href="utility_2alarm_2main_8c-example.html#a61">utility/alarm/main.c</a>, and <a class="el" href="utility_2cli_2main_8c-example.html#a54">utility/cli/main.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Apr 27 2013 18:46:23 for BSP430 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
